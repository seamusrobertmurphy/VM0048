<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Seamus Murphy">
<meta name="dcterms.date" content="2025-01-08">
<meta name="keywords" content="REDD+, VCS, Verra, Carbon verification, Jurisdictional">

<title>Leakage Belt – VM0048</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-59898bd1c6b9d2bb783127feaa000c76.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9d99e719fc96b51e8e93bebf106bf246.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Leakage Belt – VM0048">
<meta property="og:description" content="Geospatial methodology to delineate a VMD0055-compliant leakage belt, including procedural guidelines for meeting the VM0048 standard, an overview of data sources and their qualifying criteria, and methodological recommendations for data processing tasks and reporting accuracy metrics.">
<meta property="og:image" content="https://17c2998f-b511-4c3f-b44d-24cddc66219d.netlify.app/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta property="og:site_name" content="VM0048">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">VM0048</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./baseline.html"> 
<span class="menu-text">Baseline</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./deforisk.html"> 
<span class="menu-text">Risk</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./leakage.html"> 
<span class="menu-text">Leakage</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/seamusrobertmurphy/VM0048">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/seamusrobertmurphy/VM0048/issues">
            Report a Bug
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/seamusrobertmurphy/">
            Repo Collection
            </a>
          </li>
      </ul>
    </div>
    <a href="https://linkedin.com/in/seamusrobertmurphy" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./leakage.html">Leakage</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Baseline</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deforisk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Risk</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./leakage.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Leakage</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">About</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resume</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./teaching/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="4">
    <h2 id="toc-title"><strong>Contents</strong></h2>
   
  <ul>
  <li><a href="#objective" id="toc-objective" class="nav-link active" data-scroll-target="#objective">Objective:</a>
  <ul>
  <li><a href="#project-boundaries" id="toc-project-boundaries" class="nav-link" data-scroll-target="#project-boundaries">Project Boundaries</a>
  <ul>
  <li><a href="#data-imports" id="toc-data-imports" class="nav-link" data-scroll-target="#data-imports">Data imports:</a></li>
  <li><a href="#data-processing" id="toc-data-processing" class="nav-link" data-scroll-target="#data-processing">Data processing:</a></li>
  <li><a href="#area-calculation" id="toc-area-calculation" class="nav-link" data-scroll-target="#area-calculation">Area Calculation:</a></li>
  </ul></li>
  <li><a href="#derive-leakage-belt" id="toc-derive-leakage-belt" class="nav-link" data-scroll-target="#derive-leakage-belt">Derive Leakage Belt</a>
  <ul>
  <li><a href="#leakage-belt-radius" id="toc-leakage-belt-radius" class="nav-link" data-scroll-target="#leakage-belt-radius">Leakage belt radius:</a></li>
  </ul></li>
  <li><a href="#derive-leakage-masks" id="toc-derive-leakage-masks" class="nav-link" data-scroll-target="#derive-leakage-masks">Derive Leakage Masks</a>
  <ul>
  <li><a href="#roads-mask" id="toc-roads-mask" class="nav-link" data-scroll-target="#roads-mask">Roads Mask</a></li>
  <li><a href="#habitat-masks" id="toc-habitat-masks" class="nav-link" data-scroll-target="#habitat-masks">Habitat Masks</a></li>
  <li><a href="#slope-mask" id="toc-slope-mask" class="nav-link" data-scroll-target="#slope-mask">Slope Mask</a></li>
  </ul></li>
  <li><a href="#apply-leakage-masks" id="toc-apply-leakage-masks" class="nav-link" data-scroll-target="#apply-leakage-masks">Apply Leakage Masks</a>
  <ul>
  <li><a href="#visual-review" id="toc-visual-review" class="nav-link" data-scroll-target="#visual-review">Visual review</a></li>
  </ul></li>
  <li><a href="#tally-leakage-area-features" id="toc-tally-leakage-area-features" class="nav-link" data-scroll-target="#tally-leakage-area-features">Tally Leakage Area Features</a>
  <ul>
  <li><a href="#intersections" id="toc-intersections" class="nav-link" data-scroll-target="#intersections">Intersections</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Leakage Belt</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Seamus Murphy <a href="mailto:seamusrobertmurphy@gmail.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-1792-0351" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 8, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>Geospatial methodology to delineate a VMD0055-compliant leakage belt, including procedural guidelines for meeting the VM0048 standard, an overview of data sources and their qualifying criteria, and methodological recommendations for data processing tasks and reporting accuracy metrics.</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>REDD+, VCS, Verra, Carbon verification, Jurisdictional</p>
  </div>
</div>

</header>


<div class="cell">
<style type="text/css">
div.column {
    display: inline-block;
    vertical-align: top;
    width: 50%;
}

#TOC::before {
  content: "";
  display: block;
  height: 60px;
  width: 200px;
  background-image: url(https://verra.org/wp-content/uploads/JNR-Logo-Tagline-Color.avif);
  background-size: contain;
  background-position: center;
  background-position: 50% 50%;
  padding-top: 5px !important;
  background-repeat: no-repeat;
}
</style>
</div>
<section id="objective" class="level2">
<h2 class="anchored" data-anchor-id="objective">Objective:</h2>
<p>This report outlines the geospatial methodology implemented to delineate a VMD0055-compliant leakage belt for the Gola REDD+ Forest Carbon Project in Liberia. The work was conducted as part of the larger REDD+ feasibility assessment work aiming to inform the development and submission of a project proposal that aligns with Verra’s VM0048 project framework.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Considering these directives and their future timelines, the following aimed to provide procedural guidelines for replicating this analysis and meeting the VM0048 standard. This included an overview of data sources reviewed and their qualifying criteria, methodological recommendations for documenting data processing tasks and reporting accuracy and performance metrics. Following this, we provide a summary of the project’s revised area estimates. In effect, as a result of recent area expansions into nearby community forests, the project’s total conservation zone increased by a factor of 6.04.</p>
<p>The project’s expansion necessitated identifying potential zones where deforestation pressures might shift due to enhanced conservation measures. We delineated a leakage belt from surrounding forestland meeting eligibility criteria defined in VM0048 and VMD0055 guidelines. These criteria include topographical constraints (slope gradients), anthropogenic factors (proximity to roads and settlements), and ecological considerations (excluding protected areas and wetlands), all aimed at ensuring the leakage area represents forests at risk of shifted deforestation rather than areas that would not normally face such pressures.</p>
<section id="project-boundaries" class="level3">
<h3 class="anchored" data-anchor-id="project-boundaries">Project Boundaries</h3>
<section id="data-imports" class="level4">
<h4 class="anchored" data-anchor-id="data-imports">Data imports:</h4>
<ul>
<li><p>Imported the Liberia national boundary and county shapefiles.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Filtered counties to select the Grand Cape Mount and Gharpolu jurisdictions, relevant for the REDD+ project area.</p></li>
</ul>
</section>
<section id="data-processing" class="level4">
<h4 class="anchored" data-anchor-id="data-processing">Data processing:</h4>
<ul>
<li>A project coordinate system was declared as the EPSG:32629<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> projected reference system, encouraging best practices, while matching package requirements and avoiding delays in shapefile processing downstream.</li>
<li>Spatial data validation was performed prior to area calculations, targeting geometry checks due to their material influence on two-dimensional measurements. This also follows best practice dealing with new shapefiles, or rather old shapefiles with longer lifespans and more extensive revisions, that tend to involve orphaned artifacts, topology errors, or schema issues affect compromising our
<ul>
<li><p>We checked for schema conformity and domain consistency, relational fields, and potential for vertical integration. The check reviewed internal rules, file naming conventions, data types and value ranges.</p></li>
<li><p>Referencing OGC Standard (ISO, 2019),<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> we conducted topology checks on polygonal structure and linework. Our screening identified 138 geometry violations, identifying 138 violations. These included overlapping borders, un-noded intersections, unclosed polygons, and 108 orphaned artifacts formed by banana polygons, self-touching holes, inverted shells, and dangling nodes. Geometry errors were extracted, corrected and recovered with the following functions run from a bash terminal deploying R, Python, and C++ libraries.</p></li>
</ul></li>
<li><code>simplifyCoverageVW()</code><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> This function employs the Visvalingam–Whyatt algorithm to address geometry complexity along polygon edges by reducing vertices by a specified tolerance. This is one of the more forgiving functions as processed polygons are simplified but never removed entirely. However, this means that minimal polygons may remain unchanged or convert to triangle geometries, and that coverages with invalid topology may not be screened from valid results.</li>
<li><code>geos::hausdorffDistance()</code> The Hausdorff Distance function was employed to address similar problematic linework. However, it offers additional parameters allowing more precise estimates between polygon edges and target geometries, which better facilitates linework alignment using the snapping tool.</li>
<li><code>geos::maximumInscribedCircle()</code> The Maximum Inscribed Circle algorithm is a useful function for locating the smallest and narrowest strips or slivers. As the naming suggests, it characterizes the invalid polygons based on the size of the largest circle that can fit inside them. This function is especially useful for dealing with high numbers of very small slivers, as found here. By specifying narrowness thresholds, it offers screening parameters that help identify the smallest of orphans sometimes invisible to the eye.</li>
<li><code>sf::st_intersection()</code><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> A personal favorite of mine, this function provides a popular tool for repairing geometry overlays, though it is better known by its use in clipping operations. Despite some key differences to more common methods, <code>st_intersection()</code> effectively decomposes and exposes objects of overlapping, nested, or self-intersecting geometries. Where it varies is in the function’s use of vertex-based indexing and its “valid_linework” approach that is unlike the “valid_structure” approach more commonly applied. As a result, the function proved instrumental to detecting smaller artifacts (&lt;100ha) that previously eluded <code>cast()</code> and other algorithms derived from structural rules and forms of polygons. By introducing two variables of <code>n_overlap</code> and <code>origins</code> to record vertex dependencies and self-intersections, the function elegantly exposes all overlapping slivers and embedded nodes, while also segmenting their invalid geometries, and enabling their easy extraction or recovery and reclassification into the valid network.</li>
</ul>
</section>
<section id="area-calculation" class="level4">
<h4 class="anchored" data-anchor-id="area-calculation">Area Calculation:</h4>
<ul>
<li>Computed total hectares of project sites.</li>
<li>Final area estimates were reported below which yielded a total project footprint of 769,050 ha in the newest expansion.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>country <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/AOI/Archive/Liberia-National-Border/liberia_boundary_national.shp"</span>, <span class="at">quiet=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span>sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="dv">32629</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/AOI/Archive/Liberia-Jurisdiction-Boundaries/places_poly_county.shp"</span>, <span class="at">quiet=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span>sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="dv">32629</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>jurisdiction <span class="ot">=</span> counties <span class="sc">|&gt;</span>dplyr<span class="sc">::</span><span class="fu">filter</span>(name<span class="sc">==</span><span class="st">"Grand Cape Mount County"</span><span class="sc">|</span>name<span class="sc">==</span><span class="st">"Gharpolu County"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>jurisdiction<span class="sc">$</span>name <span class="ot">=</span> <span class="st">'Grand Cape Mount &amp; Gharpolu Counties'</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/POP/Archive/Villages-Extended-Metric.gpkg"</span>, <span class="at">quiet=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTIPOINT"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>aoi <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">read_sf</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/AOI/Archive/ProjectArea_CF-Expansion_051525/updated_areas.shp"</span>, <span class="at">quiet=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="st">"EPSG:32629"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTIPOLYGON"</span>) <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_as_sf</span>()<span class="co"># |&gt; dplyr::select("Name")</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># check for hidden artefacts</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">st_geometry_type</span>(aoi)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>aoi_valid <span class="ot">&lt;-</span> <span class="fu">st_make_valid</span>(aoi)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>aoi_intersections <span class="ot">&lt;-</span> <span class="fu">st_intersection</span>(aoi_valid)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>aoi_intersections<span class="sc">$</span>area_ha <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">st_area</span>(aoi_intersections) <span class="sc">*</span> <span class="fl">0.0001</span>), <span class="dv">3</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>artefacts <span class="ot">&lt;-</span> aoi_intersections <span class="sc">%&gt;%</span> <span class="fu">filter</span>(area_ha <span class="sc">&lt;</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>origins)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># process artefacts </span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(sf<span class="sc">::</span><span class="fu">st_geometry_type</span>(artefacts))</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>artefacts_points <span class="ot">&lt;-</span> artefacts <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">st_geometry_type</span>(.) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"POINT"</span>, <span class="st">"MULTIPOINT"</span>))</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>artefacts_lines <span class="ot">&lt;-</span> artefacts <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">st_geometry_type</span>(.) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"LINESTRING"</span>, <span class="st">"MULTILINESTRING"</span>))</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>artefacts_polygons <span class="ot">&lt;-</span> artefacts <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">st_geometry_type</span>(.) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"POLYGON"</span>, <span class="st">"MULTIPOLYGON"</span>))</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(artefacts_points, <span class="st">"./data/AOI/Archive/artefact_check_points.shp"</span>, <span class="at">append=</span>F, <span class="at">quiet=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(artefacts_lines, <span class="st">"./data/AOI/Archive/artefact_check_lines.shp"</span>, <span class="at">append=</span>F, <span class="at">quiet=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="fu">st_write</span>(artefacts_polygons, <span class="st">"./data/AOI/Archive/artefact_check_polygons.shp"</span>, <span class="at">append=</span>F, <span class="at">quiet=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Points:"</span>, <span class="fu">nrow</span>(artefacts_points), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Lines:"</span>, <span class="fu">nrow</span>(artefacts_lines), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Polygons:"</span>, <span class="fu">nrow</span>(artefacts_polygons), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>aoi<span class="sc">$</span>area_ha <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(sf<span class="sc">::</span><span class="fu">st_area</span>(aoi) <span class="sc">*</span> <span class="fl">0.0001</span>, <span class="dv">4</span>))</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>aoi <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">|&gt;</span> janitor<span class="sc">::</span><span class="fu">adorn_totals</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">flextable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">fontsize</span>(<span class="at">size=</span><span class="dv">8</span>,<span class="at">part=</span><span class="st">"all"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">autofit</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"white"</span>) <span class="sc">+</span>  </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(country) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.8</span>, <span class="at">col=</span><span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(counties) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"brown"</span>) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"name"</span>, <span class="at">size=</span><span class="fl">0.8</span>, <span class="at">col=</span><span class="st">"brown"</span>) <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"RIGHT"</span>, <span class="st">"BOTTOM"</span>), <span class="at">text.size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_view</span>(<span class="at">set_zoom_limits =</span> <span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="derive-leakage-belt" class="level3">
<h3 class="anchored" data-anchor-id="derive-leakage-belt">Derive Leakage Belt</h3>
<p>Implemented per the&nbsp;VM0048&nbsp;and&nbsp;VMD0055&nbsp;methodologies, the leakage belt is defined as a buffer zone around the project area in which potential deforestation leakage will be monitored. The following steps were taken to delineate this belt in accordance with those requirements:</p>
<section id="leakage-belt-radius" class="level4">
<h4 class="anchored" data-anchor-id="leakage-belt-radius">Leakage belt radius:</h4>
<ul>
<li>We created an initial 5.5km buffer around the project’s area of interest (AOI), before a second buffer of the first was extended an additional 4.5 km outward. This two-step buffer operation was originally employed to smoothen buffer geometry that was produced by pockets of non-project area and complicated by complex perimeters of project sites.</li>
<li>All output geometries were checked and repaired systematically using the folloiwng three geometry corrections:
<ul>
<li><code>st_cast()</code>, <code>st_zm()</code>, <code>st_make_valid()</code> <!--# Note to self, need to summarize explicitly the geometry effects of each function and the limitations of systematically applying  to all shapefiles, for example zoom in and review the final leakage belt shapefile below that includes so many triangles. Alternatively, we may recommend use of ST_MakeValid(), ensuring OGC Simple Feature compliance --></li>
</ul></li>
</ul>
<ol start="2" type="1">
<li><p>Concave Hull Application:</p>
<p>The <code>concavehull()</code> function was used to refine polygon edges by more accurately matching project perimeters where linework is more complex. Effectively, using a concave hull instead of a simple convex buffer ensures the leakage delineation addresses all indentations of the forest boundary and avoids convex gaps not adjacent to the project.&nbsp;</p></li>
<li><p>Leakage Belt Finalization:</p>
<ul>
<li>Calculated intersection of leakage buffer with the national boundary to define eligible leakage areas.</li>
<li>Computed final area (ha) for monitoring maximum and mininum thresholds.</li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>leakage_belt         <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_difference</span>(leakage_belt_whole, <span class="fu">st_union</span>(<span class="fu">st_combine</span>(aoi_union)))</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>leakage_belt<span class="sc">$</span>area_ha <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(sf<span class="sc">::</span><span class="fu">st_area</span>(leakage_belt) <span class="sc">*</span> <span class="fl">0.0001</span>, <span class="dv">4</span>)) </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>leakage_belt         <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(country, leakage_belt)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt) <span class="sc">+</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="fl">0.3</span>)<span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.4</span>, <span class="at">col=</span><span class="st">"white"</span>) <span class="sc">+</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># save locally</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co">#sf::wt_write(leakage_belt, "OneDrive.../20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/LEAKAGE/Archive/LeakageBelt_10k-Radius_UnFiltered.zip") </span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#sf::st_write(leakage_belt_whole, "OneDrive.../20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/LEAKAGE/Archive/LeakageBelt_10k-Radius_UnFiltered-Whole.shp")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="derive-leakage-masks" class="level3">
<h3 class="anchored" data-anchor-id="derive-leakage-masks">Derive Leakage Masks</h3>
<p>After delineating the initial 10 km leakage belt, we applied a series of exclusion masks to remove areas that are not eligible for leakage accounting as per VM0048/VMD0055 criteria. The creation of these masks ensures that the final leakage belt includes only areas where project-related leakage could occur, excluding areas where deforestation is unlikely or not attributable to project activities. Both VM0048 and VMD0055 explicitly stipulate the removal of certain land categories from the leakage belt to ensure accurate and conservative leakage monitoring. In practice, this meant excluding zones near major roads, wetlands, steep slopes, and existing protected areas. Verra’s guidance also emphasizes confirming the legal definitions and extents of these excluded areas in consultation with local stakeholders and authorities. Notably, spatial datasets for features like wetlands, rural roads, and community protection areas can be highly variable in quality; thus, our mask development included careful verification to align with official definitions and the latest available data. Below, we detail the construction of each mask layer:</p>
<section id="roads-mask" class="level4">
<h4 class="anchored" data-anchor-id="roads-mask">Roads Mask</h4>
<p>Following leakage belt exclusion criteria outlined in VMD0055, we removed areas that were located within 10km of road infrastructure. This was implemented to reduce false-positive leakage signals.</p>
<p><em>Implementation steps:</em></p>
<ol type="1">
<li>Road Data Processing:
<ul>
<li>Imported and validated two road datasets and checked for geometry errors or merging issues.</li>
<li>The Douglas-Peucker algorithm<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> was employed on larger datasets to reduce computational load by simplifying vertex networks, while maintaining structural and linework integrity.</li>
</ul></li>
<li>Buffering roads:
<ul>
<li>Created 10 km buffer around roads with simplified geometries to produce a leakage exclusion mask.</li>
<li>Unified separate buffers into a single comprehensive road mask for spatial consistency.</li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>roads_ext <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/ROADS/Archive/Roads_Gola_RSPB-OSM-Combined/Roads_Gola_RSPB-OSM-Merged.shp"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTILINESTRING"</span>) <span class="sc">|&gt;</span> rmapshaper<span class="sc">::</span><span class="fu">ms_simplify</span>(<span class="at">keep=</span><span class="fl">0.5</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>roads_one <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"~/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/ROADS/Archive/roads_simplified_one.shp"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>roads_two <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"~/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/ROADS/Archive/roads_simplified_two.shp"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># we have simplify mask shapefiles and split them up to shorten computing </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># time &amp; avoid crashing. See option for "harsh" simplification on line 163</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>roads_one_simplified <span class="ot">=</span> roads_one <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTILINESTRING"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  rmapshaper<span class="sc">::</span><span class="fu">ms_simplify</span>(<span class="at">keep=</span><span class="fl">0.5</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>roads_two_simplified <span class="ot">=</span> roads_two <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTILINESTRING"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  rmapshaper<span class="sc">::</span><span class="fu">ms_simplify</span>(<span class="at">keep=</span><span class="fl">0.5</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># bigger file needs more simplificaiotn</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>roads_one_simplified_harsh <span class="ot">=</span> rmapshaper<span class="sc">::</span><span class="fu">ms_simplify</span>(</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  roads_one_simplified, <span class="at">keep=</span><span class="fl">0.01</span>) </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># now apply buffer operation, but note this takes time. Its </span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># advised processing inputs as much as possible before running</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>roads_one_buffer <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_buffer</span>(</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  roads_one_simplified_harsh, </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">dist =</span> <span class="dv">10000</span>, </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">nQuadSegs =</span> <span class="dv">5</span>,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">endCapStyle=</span><span class="st">"ROUND"</span>, </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">joinStyle =</span> <span class="st">"ROUND"</span>,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">mitreLimit =</span> <span class="dv">1</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">singleSide =</span> <span class="cn">FALSE</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>roads_two_buffer <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_buffer</span>(</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  roads_two_simplified, </span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">dist =</span> <span class="dv">10000</span>, </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">nQuadSegs =</span> <span class="dv">5</span>,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">endCapStyle=</span><span class="st">"ROUND"</span>, </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">joinStyle =</span> <span class="st">"ROUND"</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">mitreLimit =</span> <span class="dv">1</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">singleSide =</span> <span class="cn">FALSE</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine, dissolve and cast to single feature</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>roads_mask <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_combine</span>(roads_one_buffer, roads_two_buffer) <span class="sc">|&gt;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_union</span>() <span class="sc">|&gt;</span> sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"POLYGON"</span>)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Visual check</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_mask) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_one_simplified_harsh) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_lines</span>(<span class="at">lwd=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_two_simplified) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_lines</span>(<span class="at">lwd=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">"green"</span>) <span class="sc">+</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_mask) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"pink"</span>) <span class="sc">+</span> </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="co">#tmap::tm_graticules(lines=T,labels.rot=c(0,90),lwd=0.2) +</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"RIGHT"</span>, <span class="st">"BOTTOM"</span>), <span class="at">text.size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_compass</span>(<span class="at">color.dark =</span> <span class="st">"gray60"</span>, <span class="at">text.color =</span> <span class="st">"gray60"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Save output to MASKS folder and purge memory</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a><span class="co">#sf::st_write(roads_mask, "/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/MASKS/LeakageMask_Roads_10km-Buffer_051625.shp", delete_dsn=T)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="habitat-masks" class="level4">
<h4 class="anchored" data-anchor-id="habitat-masks">Habitat Masks</h4>
<p>Habitat masks were derived using wetlands and protected area datasets confirmed through discussions with the client. Both VM0048 and VMD0055 guidelines explicitly stipulate the exclusion of certain land categories from leakage belts to ensure accurate and conservative leakage monitoring. As highlighted during design meetings in March, Verra has provided additional guidance to project developers wishing to confirm the legal definitions of these area designations. While high variance and inconsistency is typical of spatial datasets representing wetlands, conservation habitats, artisanal farming and rural road networks in forested landscapes, Verra has also acknowledged that such mapping criteria particularly related to proected areas is likely to require considerable discussions and negotiations with local stakeholders, national government, and with Verra’s VM0048 committee.</p>
<p><em>Implementation steps:</em></p>
<ol type="1">
<li>Wetlands data processing:
<ul>
<li><p>Imported wetland raster datasets from peer-reviewed and approved sources as mandated by VMD0055.</p></li>
<li><p>Cropped wetlands raster precisely to the spatial extent of the identified leakage belt.</p></li>
<li><p>Reclassified wetland habitat classes based explicitly on VM0048 criteria, distinguishing eligible classes clearly, adhering to procedures outlined in Appendix 2 of VMD0055.</p></li>
</ul></li>
<li>Wetland mask generation:
<ul>
<li>Converted classified wetlands into a binary mask layer, ensuring compatibility and direct alignment with VM0048/VMD0055 requirements to exclude wetlands from leakage areas.</li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare shell for cropping </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>leakage_belt_crop <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_as_sf</span>(leakage_belt_whole) <span class="sc">|&gt;</span> terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># import inputs, and simplify</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>waterways <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/HYDRO/Waterways/Winrock_Waterways_Gola_051625.gpkg"</span>, <span class="at">quiet=</span>T) <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_cast</span>(<span class="st">"MULTILINESTRING"</span>) </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>wetlands<span class="ot">=</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/HABITAT/Wetlands/GLWD_EPSG32629.tif"</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>wetlands <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">crop</span>(wetlands, leakage_belt_crop, <span class="at">mask=</span>T)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy labeling</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>code_dict_2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">26</span>, <span class="dv">31</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">c</span>(</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Freshwater lake"</span>,                              <span class="co"># 1</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Large river"</span>,                                  <span class="co"># 4</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Small streams"</span>,                                <span class="co"># 7</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Riverine, regularly flooded, forested"</span>,        <span class="co"># 10</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Riverine, seasonally flooded, forested"</span>,       <span class="co"># 12</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Riverine, seasonally saturated, forested"</span>,     <span class="co"># 14</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Riverine, seasonally saturated, non-forested"</span>, <span class="co"># 15</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Palustrine, seasonally saturated, forested"</span>,   <span class="co"># 18</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ephemeral, forested"</span>,                          <span class="co"># 20</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ephemeral, non-forested"</span>,                      <span class="co"># 21</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Tropical peatland, forested"</span>,                  <span class="co"># 26</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Other coastal wetland"</span>                         <span class="co"># 31</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(wetlands) <span class="ot">&lt;-</span> code_dict_2</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>wetlands[wetlands <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="co"># derive wetland mask</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>wetlands_mask <span class="ot">&lt;-</span> wetlands</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>wetland_classes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">26</span>, <span class="dv">31</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">values</span>(wetlands_mask) <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(terra<span class="sc">::</span><span class="fu">values</span>(wetlands) <span class="sc">%in%</span> wetland_classes, <span class="dv">1</span>, <span class="cn">NA</span>)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt_whole) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt)<span class="sc">+</span>tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="fl">0.4</span>,<span class="at">lwd=</span><span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(wetlands) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_raster</span>(<span class="at">col.legend =</span> <span class="fu">tm_legend</span>(<span class="st">"Wetlands (GLWD"</span>)) <span class="sc">+</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.3</span>, <span class="at">col=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"RIGHT"</span>, <span class="st">"BOTTOM"</span>), <span class="at">text.size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_compass</span>(<span class="at">color.dark =</span> <span class="st">"gray60"</span>, <span class="at">text.color =</span> <span class="st">"gray60"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Implementation steps:</em></p>
<ol type="1">
<li>Protected areas mask:
<ul>
<li><p>Obtained spatial datasets from the World Database on Protected Areas (WDPA),<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> ensuring compliance with Verra’s approved data sources.</p></li>
<li><p>Conducted spatial overlay analysis to identify and exclude legally protected areas classified under IUCN categories I, II, and III, existing managed timber concessions, and UDef PAs and UDef LBs previously validated or verified within the past five years, as stipulated by VMD0055 Appendix 2.</p></li>
<li><p>Ensured all data underwent verification of legal status and eligibility through consultation with local stakeholders and Liberian regulatory authorities, following VMD0055 standards.</p></li>
</ul></li>
<li>Legal and Compliance Considerations:
<ul>
<li><p>All data inputs were verified against regulatory standards, ensuring legality and eligibility for inclusion/exclusion from the leakage belt.</p></li>
<li><p>Initial analyses deliberately excluded protected lands pending further verification of conservation areas’ legal statuses with stakeholders, regulatory bodies, and Verra, in accordance with VMD0055 guidelines.</p></li>
<li><p>Documentation of all masking operations and criteria applied was systematically recorded for transparency, validation, and future auditing processes, explicitly aligning with VM0048 (Sections 8.3) and VMD0055 (Section 5.1.3-5.2; Appendix 2).</p></li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>protected_areas <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/HABITAT/Protected Areas/Archive/WDPA_Mar2025_Public_32629_GOLA.shp"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt_whole) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt) <span class="sc">+</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="fl">0.4</span>, <span class="at">lwd=</span><span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(protected_areas) <span class="sc">+</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">fill=</span><span class="st">"ORIG_NAME"</span>, <span class="at">fill.legend =</span> <span class="fu">tm_legend</span>(<span class="st">"Protected Areas (WDPA)"</span>)) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"RIGHT"</span>, <span class="st">"BOTTOM"</span>), <span class="at">text.size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_compass</span>(<span class="at">color.dark=</span><span class="st">"gray60"</span>, <span class="at">text.color=</span><span class="st">"gray60"</span>, <span class="at">position=</span><span class="fu">c</span>(<span class="st">"left"</span>,<span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="slope-mask" class="level4">
<h4 class="anchored" data-anchor-id="slope-mask">Slope Mask</h4>
<p><em>Implementation steps:</em></p>
<p>Slope masking operations are performed to comply explicitly with VM0048 and VMD0055 standards, which require excluding areas exceeding a slope gradient of 10% from leakage belt delineation to prevent erroneous leakage attribution.</p>
<ol type="1">
<li>Slope data acquisition:
<ul>
<li>Utilized Digital Elevation Model (DEM) data sourced from HydroSHEDS (V2),<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> which is derived primarily from Shuttle Radar Topography Mission (SRTM) elevation models, including products that are conditioned with void-filling, stream burning, filtering, and manual corrections to ensure hydrological integrity and accuracy. This source is recognized and approved by Verra as a credible data source for hydrological analyses and leakage delineations. Higher resolution DEMs with similar gold standard processing are also available in the ESA Copernicus collection (25m resolution) and many more. Best warehouse for publicly available and transparent methodological reporting can be found through OpenTopography platform.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></li>
</ul></li>
<li>Slope processing:
<ul>
<li>Calculated slope gradients from the DEM in degrees, subsequently converting these values into percent slope.</li>
<li>Identified and classified areas with slope gradients greater than 10%, (&gt; not &gt;=) marking them explicitly for exclusion based on criteria detailed in VM0048 (Section 8.3) and VMD0055 (Section 5.1.3, Appendix 2).</li>
</ul></li>
<li>Slope mask generation:
<ul>
<li>Transformed high-gradient areas identified as invalid (&gt;10% slope) into polygon geometries, performing subsequent geoprocessing operations to dissolve and simplify these features, ensuring computational efficiency without compromising compliance with VMD0055 standards.</li>
</ul></li>
<li>Justifying VM0048-compliance:
<ul>
<li>Documented HydroSHEDS source information, citing technical documentation explicitly regarding processing steps and geometric corrections as mandated by VM0048 and VMD0055 methodologies.</li>
<li>Maintained records of slope calculations workflows, mask generation processes to provide transparency, facilitate third-party verification through replication.</li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># skipping these operations here (est. time 12 mins)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>DEM <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/DEM/DEM_EPSG32629.tif"</span>) </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># derive slope percentage from degree </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>slope_degrees <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">terrain</span>(DEM, <span class="at">v=</span><span class="st">"slope"</span>, <span class="at">unit=</span><span class="st">"degrees"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>slope_percent <span class="ot">=</span> <span class="fu">tan</span>(slope_degrees <span class="sc">*</span> (pi <span class="sc">/</span> <span class="dv">180</span>)) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>slope_percent <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">clamp</span>(slope_percent, <span class="dv">0</span>, <span class="dv">100</span>) </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>slope_invalid <span class="ot">=</span> slope_percent <span class="sc">&gt;</span> <span class="dv">10</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>slope_invalid[slope_invalid <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>slope_mask <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">as.polygons</span>(slope_invalid, <span class="at">dissolve=</span>T)<span class="sc">|&gt;</span>sf<span class="sc">::</span><span class="fu">st_as_sf</span>()<span class="sc">|&gt;</span>sf<span class="sc">::</span><span class="fu">st_union</span>()</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># save locally &amp; reload to purge cache</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(slope_mask, <span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/MASK/LeakageMask_Slope10%-Invalid_051625.zip"</span>, <span class="at">delete_dsn=</span>T)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>slope_mask <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/MASK/Archive/LeakageMask_Slope10%-Invalid_051625/slope_poly_simplified.shp"</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="fl">0.4</span>, <span class="at">lwd=</span><span class="fl">1.5</span>)<span class="sc">+</span> </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">1.5</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.3</span>, <span class="at">col=</span><span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(slope_mask) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">fill=</span><span class="st">"purple"</span>, <span class="at">fill_alpha=</span><span class="fl">0.6</span>, <span class="at">lwd=</span><span class="dv">0</span>)<span class="sc">+</span> </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">"RIGHT"</span>, <span class="st">"BOTTOM"</span>), <span class="at">text.size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_compass</span>(<span class="at">color.dark =</span> <span class="st">"gray60"</span>, <span class="at">text.color =</span> <span class="st">"gray60"</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="apply-leakage-masks" class="level3">
<h3 class="anchored" data-anchor-id="apply-leakage-masks">Apply Leakage Masks</h3>
<p>After creating the four masks for roads, wetlands, protected areas, slope thresholds, we applied these to the unscreened leakage belt, resulting in a leakage belt compliant with all VM0048/VMD0055 requirements. The process can be applied via successive clipping of ineligible or eligible areas, which yields the final geometry used for leakage area analysis.</p>
<ul>
<li>Mask application: We overlaid the unfiltered leakage belt with each exclusion mask to carve out the invalid zones. In practice, this was done by spatial difference or intersection operations: we subtracted the slope, wetland, and protected area masks from the leakage belt applying <code>st_difference()</code> function to each, and we intersected the belt with the inverse of the road mask to exclude areas within the 10km buffers surrounding roads. The result is that all areas within 10km of roads, on steep slopes &gt;10%, in wetlands, or in protected areas were removed. What remained is the valid leakage area – a polygon, or set of polygons, representing the leakage belt after all exclusions. We ensured that throughout this overlay process, geometry validity and topology were preserved (using st_make_valid and snapping as needed to handle any slivers created at mask boundaries). The final output was a clean leakage belt polygon meeting every required criterion.</li>
<li>Results: We documented each masking operation and saved all resulting datasets for transparency and future audit. For example, the final filtered leakage belt shapefile was saved in the project archive. Additionally, intermediate products like the individual mask layers and the intermediate mask layers were preserved with clear filenames. This documentation aimed to ensures auditors can trace each step of the analysis, facilitating their required replication more easily. Documentation of these methods aligns with ISO 19115-1 metadata standards for data lineage, as well as ISO 19105 conformance testing guidelines, by providing evidence for each criterion applied.
<ul>
<li>The final deliverable of a valid leakage belt shapefile was saved with the filename <code>LeakageBelt_10km_051625.shp</code>.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># clip</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>roads_leakage           <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(leakage_belt, roads_mask)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>slope_leakage           <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_difference</span>(leakage_belt, slope_mask)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>wetlands_leakage        <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_difference</span>(leakage_belt, wetlands_mask)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>protected_areas_leakage <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_difference</span>(leakage_belt, protected_areas)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># It may make better sense to derive and apply these seperately for faster processing</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>leakage_area_a     <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_union</span>(roads_leakage, slope_leakage)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>leakage_area_b     <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_union</span>(leakage_area_a, wetlands_leakage)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>leakage_area_valid <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_union</span>(leakage_area_b, protected_areas_leakage)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># save ouput before it crashes</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(leakage_area_valid, <span class="st">"/Users/seamus/Library/CloudStorage/OneDrive-WinrockInternationalInstituteforAgriculturalDevelopment/20087 - RSPB Gola Feasibility/Deliverables/Spatial Data/LEAKAGE/Archive/LeakageBelt_10km_051625/LeakageBelt_10k-Radius_Filtered-WDPA_GLWD_SLOPE-10PC_ROADS-10KM.shp"</span>, <span class="at">delete_dsn=</span>T)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualise</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt_valid) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(country) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">1.5</span>, <span class="at">col=</span><span class="st">"grey30"</span>) <span class="sc">+</span> </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(counties) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"grey70"</span>) <span class="sc">+</span> </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="visual-review" class="level4">
<h4 class="anchored" data-anchor-id="visual-review">Visual review</h4>
<p>To validate the spatial logic, we conducted a visual review of all layers using interactive maps. While static maps provided previously report confirmed inputs at a coarse scale, more useful insights may be drawn from the interactive maps below. By loading the project area, the unfiltered leakage belt, and each mask for roads, wetlands, protected areas, slope together, readers may toggle layers and inspect overlaps. This helps confirm that the masks and final leakage outputs were correctly aligned with input features and exclusion zones. In this way, we invite feedback from reviewers on further improvements or spatial updates needed, especially around settlements and boundaries where multiple exclusion criteria overlapped. In the following maps, users may verify attribute information of any target features using mouse cursor. This interactive review is a quality control step to catch any anomalies before finalizing the outputs.</p>
<p>Map Guide:</p>
<ol type="1">
<li>Toggle individual mask layers on/off to isolate specific criteria</li>
<li>Zoom and pan to examine local edge effects, especially near community clusters or county boundaries where multiple exclusion zones might converge.</li>
<li>Inspect features by hovering or clicking, to see their attributes, such as the name of protected areas or the slope percentage of a given cell, confirming that features are correctly classified and that the clipping occurred as expected.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visual check</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt_whole) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(country) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">1.5</span>, <span class="at">col=</span><span class="st">"grey30"</span>) <span class="sc">+</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(counties) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"grey70"</span>) <span class="sc">+</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(leakage_belt) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">col=</span><span class="st">"yellow"</span>,<span class="at">fill=</span><span class="st">"yellow"</span>,<span class="at">fill_alpha=</span><span class="fl">0.4</span>, <span class="at">lwd=</span><span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(wetlands) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_raster</span>(<span class="at">col.legend =</span> <span class="fu">tm_legend</span>(<span class="st">"Wetlands (GLWD"</span>)) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(waterways) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_lines</span>(<span class="at">lwd=</span><span class="st">"ORD_STRA"</span>, <span class="at">lwd.scale=</span><span class="fu">tm_scale_asis</span>(<span class="at">values.scale=</span><span class="fl">0.4</span>),<span class="at">col=</span><span class="st">"skyblue"</span>)<span class="sc">+</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(protected_areas) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_polygons</span>(<span class="at">fill=</span><span class="st">"ORIG_NAME"</span>,<span class="at">fill.legend=</span><span class="fu">tm_legend</span>(<span class="st">"Protected Areas (WDPA)"</span>))<span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(slope_mask) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_raster</span>(<span class="at">title=</span><span class="st">""</span>, <span class="at">palette=</span><span class="st">"purple"</span>, <span class="at">labels=</span><span class="st">"Slope Exclusion Zone"</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_mask) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">col=</span><span class="st">"green"</span>, <span class="at">lwd=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(roads_ext) <span class="sc">+</span>tmap<span class="sc">::</span><span class="fu">tm_lines</span>(<span class="at">col=</span><span class="st">"Category"</span>,   <span class="at">col.legend=</span><span class="fu">tm_legend</span>(<span class="st">"Road network"</span>)) <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(aoi) <span class="sc">+</span> tmap<span class="sc">::</span><span class="fu">tm_borders</span>(<span class="at">lwd=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_text</span>(<span class="at">text=</span><span class="st">"Name"</span>, <span class="at">size=</span><span class="fl">0.5</span>, <span class="at">col=</span><span class="st">"beige"</span>) <span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_shape</span>(pop) <span class="sc">+</span> <span class="fu">tm_symbols</span>(<span class="at">size=</span><span class="fl">0.4</span>, <span class="at">col =</span> <span class="st">"pink"</span>, <span class="at">id=</span><span class="st">"name"</span>, <span class="at">popup.vars =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  tmap<span class="sc">::</span><span class="fu">tm_add_legend</span>(<span class="at">type=</span><span class="st">"symbols"</span>, <span class="at">col=</span><span class="st">"pink"</span>, <span class="at">size=</span><span class="dv">1</span>, <span class="at">labels=</span><span class="st">"Settlments"</span>) <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    tmap<span class="sc">::</span><span class="fu">tm_basemap</span>(<span class="st">"Esri.WorldImagery"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="tally-leakage-area-features" class="level3">
<h3 class="anchored" data-anchor-id="tally-leakage-area-features">Tally Leakage Area Features</h3>
<section id="intersections" class="level4">
<h4 class="anchored" data-anchor-id="intersections">Intersections</h4>
<p>To inform the project’s monitoring strategy and stakeholder engagement plans, we intersected the leakage area polygon with three spatial datasets: road networks, waterway networks, and village locations. Linear features were quantified by their total lengths in kilometers, while point features were counted based on their occurrence within the leakage belt.</p>
<p>The resulting spatial visualizations enable the project team to clearly assess the distribution and density of these deforestation drivers, identifying areas at greatest risk due to human activities and physical accessibility.</p>
</section>
<section id="results" class="level4">
<h4 class="anchored" data-anchor-id="results">Results</h4>
<p>Quantifying infrastructure and settlement density within the leakage zone directly informs targeted leakage mitigation strategies. Understanding the spatial distribution of communities and infrastructure helps project proponents tailor interventions such as community outreach, agricultural intensification programs, and alternative livelihood development specifically aimed at reducing deforestation pressures.</p>
<p>Our analysis revealed substantial infrastructure and population within the leakage belt:</p>
<ul>
<li><p><strong>Waterways</strong>: 1,235.5 km</p></li>
<li><p><strong>Road Network</strong>: 2,135.5 km</p></li>
<li><p><strong>Total Leakage Area within 10 km of Project Boundary</strong>: 118,109 ha</p></li>
</ul>
<p>These findings highlight critical areas for potential leakage activity, guiding strategic interventions and resource allocation to effectively address deforestation risk.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>waterways_count_whole <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(waterways, sf<span class="sc">::</span><span class="fu">st_as_sf</span>(leakage_belt_crop))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>waterways_count_valid <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(waterways, leakage_belt)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>waterways_length_whole <span class="ot">=</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(waterways_count_whole))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>waterways_length_valid <span class="ot">=</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(waterways_count_valid))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>road_count_whole <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(roads_ext, sf<span class="sc">::</span><span class="fu">st_as_sf</span>(leakage_belt_crop))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>road_count_valid <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(roads_ext, leakage_belt)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>road_length_whole <span class="ot">=</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(road_count_whole)) <span class="sc">+</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(road_count_whole))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>road_length_valid <span class="ot">=</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(road_count_valid)) <span class="sc">+</span> <span class="fu">sum</span>(sf<span class="sc">::</span><span class="fu">st_length</span>(road_count_valid))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>community_count_whole <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(pop, sf<span class="sc">::</span><span class="fu">st_as_sf</span>(leakage_belt_crop))</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>community_count_valid <span class="ot">=</span> sf<span class="sc">::</span><span class="fu">st_intersection</span>(pop, leakage_belt)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>waterways_length_whole</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>waterways_length_valid</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>road_length_whole</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>road_length_valid</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>community_count_whole</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>community_count_valid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r numCode numberLines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>devtools<span class="sc">::</span><span class="fu">session_info</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.3.0 (2023-04-21)
 os       macOS 15.6.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       America/Vancouver
 date     2025-08-25
 pandoc   3.6.1 @ /usr/local/bin/ (via rmarkdown)
 quarto   1.7.33 @ /usr/local/bin/quarto

─ Packages ───────────────────────────────────────────────────────────────────
 package           * version   date (UTC) lib source
 abind               1.4-8     2024-09-12 [1] CRAN (R 4.3.3)
 askpass             1.2.1     2024-10-04 [1] CRAN (R 4.3.3)
 base64enc           0.1-3     2015-07-28 [1] CRAN (R 4.3.3)
 cachem              1.1.0     2024-05-16 [1] CRAN (R 4.3.3)
 class               7.3-23    2025-01-01 [1] CRAN (R 4.3.3)
 classInt            0.4-11    2025-01-08 [1] CRAN (R 4.3.3)
 cli                 3.6.5     2025-04-23 [1] CRAN (R 4.3.3)
 codetools           0.2-20    2024-03-31 [1] CRAN (R 4.3.1)
 colorspace          2.1-1     2024-07-26 [1] CRAN (R 4.3.3)
 cols4all          * 0.8       2024-10-16 [1] CRAN (R 4.3.3)
 crosstalk           1.2.1     2023-11-23 [1] CRAN (R 4.3.3)
 curl                6.4.0     2025-06-22 [1] CRAN (R 4.3.3)
 data.table          1.17.8    2025-07-10 [1] CRAN (R 4.3.3)
 DBI                 1.2.3     2024-06-02 [1] CRAN (R 4.3.3)
 deldir              2.0-4     2024-02-28 [1] CRAN (R 4.3.3)
 devtools            2.4.5     2022-10-11 [1] CRAN (R 4.3.0)
 dichromat           2.0-0.1   2022-05-02 [1] CRAN (R 4.3.3)
 digest              0.6.37    2024-08-19 [1] CRAN (R 4.3.3)
 distill           * 1.6       2023-10-06 [1] CRAN (R 4.3.1)
 downlit             0.4.4     2024-06-10 [1] CRAN (R 4.3.3)
 dplyr             * 1.1.4     2023-11-17 [1] CRAN (R 4.3.1)
 e1071               1.7-16    2024-09-16 [1] CRAN (R 4.3.3)
 ellipsis            0.3.2     2021-04-29 [1] CRAN (R 4.3.3)
 evaluate            1.0.4     2025-06-18 [1] CRAN (R 4.3.3)
 farver              2.1.2     2024-05-13 [1] CRAN (R 4.3.3)
 fastmap             1.2.0     2024-05-15 [1] CRAN (R 4.3.3)
 flextable         * 0.9.9     2025-05-31 [1] CRAN (R 4.3.3)
 fontBitstreamVera   0.1.1     2017-02-01 [1] CRAN (R 4.3.3)
 fontLiberation      0.1.0     2016-10-15 [1] CRAN (R 4.3.3)
 fontquiver          0.2.1     2017-02-01 [1] CRAN (R 4.3.3)
 fs                  1.6.6     2025-04-12 [1] CRAN (R 4.3.3)
 gdtools             0.4.2     2025-03-27 [1] CRAN (R 4.3.3)
 generics            0.1.4     2025-05-09 [1] CRAN (R 4.3.3)
 ggplot2             3.5.2     2025-04-09 [1] CRAN (R 4.3.3)
 glue                1.8.0     2024-09-30 [1] CRAN (R 4.3.3)
 gtable              0.3.6     2024-10-25 [1] CRAN (R 4.3.3)
 htmltools           0.5.8.1   2024-04-04 [1] CRAN (R 4.3.3)
 htmlwidgets         1.6.4     2023-12-06 [1] CRAN (R 4.3.1)
 httpuv              1.6.16    2025-04-16 [1] CRAN (R 4.3.3)
 interp              1.1-6     2024-01-26 [1] CRAN (R 4.3.3)
 jpeg                0.1-11    2025-03-21 [1] CRAN (R 4.3.3)
 jsonlite            2.0.0     2025-03-27 [1] CRAN (R 4.3.3)
 KernSmooth          2.23-26   2025-01-01 [1] CRAN (R 4.3.3)
 knitr             * 1.50      2025-03-16 [1] CRAN (R 4.3.3)
 later               1.4.2     2025-04-08 [1] CRAN (R 4.3.3)
 latex2exp         * 0.9.6     2022-11-28 [1] CRAN (R 4.3.0)
 lattice           * 0.22-7    2025-04-02 [1] CRAN (R 4.3.3)
 latticeExtra      * 0.6-30    2022-07-04 [1] CRAN (R 4.3.3)
 leafem            * 0.2.4     2025-05-01 [1] CRAN (R 4.3.3)
 leafgl            * 0.2.2     2024-11-13 [1] CRAN (R 4.3.3)
 leaflegend          1.2.1     2024-05-09 [1] CRAN (R 4.3.3)
 leaflet           * 2.2.2     2024-03-26 [1] CRAN (R 4.3.1)
 leaflet.extras    * 2.0.1     2024-08-19 [1] CRAN (R 4.3.3)
 leaflet.providers * 2.0.0     2023-10-17 [1] CRAN (R 4.3.3)
 leafsync            0.1.0     2019-03-05 [1] CRAN (R 4.3.0)
 lifecycle           1.0.4     2023-11-07 [1] CRAN (R 4.3.3)
 logger              0.4.0     2024-10-22 [1] CRAN (R 4.3.3)
 lwgeom              0.2-14    2024-02-21 [1] CRAN (R 4.3.1)
 magrittr            2.0.3     2022-03-30 [1] CRAN (R 4.3.3)
 maptiles          * 0.10.0    2025-05-07 [1] CRAN (R 4.3.3)
 memoise             2.0.1     2021-11-26 [1] CRAN (R 4.3.3)
 microbenchmark      1.5.0     2024-09-04 [1] CRAN (R 4.3.3)
 mime                0.13      2025-03-17 [1] CRAN (R 4.3.3)
 miniUI              0.1.2     2025-04-17 [1] CRAN (R 4.3.3)
 officer             0.6.10    2025-05-30 [1] CRAN (R 4.3.3)
 openssl             2.3.3     2025-05-26 [1] CRAN (R 4.3.3)
 pacman              0.5.1     2019-03-11 [1] CRAN (R 4.3.3)
 palmerpenguins    * 0.1.1     2022-08-15 [1] CRAN (R 4.3.3)
 pillar              1.11.0    2025-07-04 [1] CRAN (R 4.3.3)
 pkgbuild            1.4.8     2025-05-26 [1] CRAN (R 4.3.3)
 pkgconfig           2.0.3     2019-09-22 [1] CRAN (R 4.3.3)
 pkgload             1.4.0     2024-06-28 [1] CRAN (R 4.3.3)
 png                 0.1-8     2022-11-29 [1] CRAN (R 4.3.3)
 profvis             0.4.0     2024-09-20 [1] CRAN (R 4.3.3)
 PROJ              * 0.6.0     2025-04-03 [1] CRAN (R 4.3.3)
 proj4               1.0-15    2025-03-21 [1] CRAN (R 4.3.3)
 promises            1.3.3     2025-05-29 [1] CRAN (R 4.3.3)
 proxy               0.4-27    2022-06-09 [1] CRAN (R 4.3.3)
 purrr               1.1.0     2025-07-10 [1] CRAN (R 4.3.0)
 R6                  2.6.1     2025-02-15 [1] CRAN (R 4.3.3)
 ragg                1.4.0     2025-04-10 [1] CRAN (R 4.3.3)
 raster            * 3.6-32    2025-03-28 [1] CRAN (R 4.3.3)
 RColorBrewer        1.1-3     2022-04-03 [1] CRAN (R 4.3.3)
 Rcpp              * 1.1.0     2025-07-02 [1] CRAN (R 4.3.3)
 RcppThread        * 2.2.0     2025-01-07 [1] CRAN (R 4.3.3)
 remotes             2.5.0     2024-03-17 [1] CRAN (R 4.3.3)
 reproj            * 0.7.0     2024-06-11 [1] CRAN (R 4.3.3)
 rlang               1.1.6     2025-04-11 [1] CRAN (R 4.3.3)
 rmapshaper        * 0.5.0     2023-04-11 [1] CRAN (R 4.3.0)
 rmarkdown         * 2.29      2024-11-04 [1] CRAN (R 4.3.3)
 rstudioapi          0.17.1    2024-10-22 [1] CRAN (R 4.3.3)
 s2                  1.1.9     2025-05-23 [1] CRAN (R 4.3.3)
 scales              1.4.0     2025-04-24 [1] CRAN (R 4.3.3)
 sessioninfo         1.2.3     2025-02-05 [1] CRAN (R 4.3.3)
 sf                * 1.0-22    2025-08-25 [1] Github (r-spatial/sf@3660edf)
 shiny               1.11.1    2025-07-03 [1] CRAN (R 4.3.3)
 sp                * 2.2-0     2025-02-01 [1] CRAN (R 4.3.3)
 spacesXYZ           1.6-0     2025-06-06 [1] CRAN (R 4.3.3)
 stars               0.6-8     2025-02-01 [1] CRAN (R 4.3.3)
 stringi             1.8.7     2025-03-27 [1] CRAN (R 4.3.3)
 stringr             1.5.1     2023-11-14 [1] CRAN (R 4.3.1)
 systemfonts         1.2.3     2025-04-30 [1] CRAN (R 4.3.3)
 terra             * 1.8-60    2025-07-21 [1] CRAN (R 4.3.0)
 textshaping         1.0.1     2025-05-01 [1] CRAN (R 4.3.3)
 tibble              3.3.0     2025-06-08 [1] CRAN (R 4.3.3)
 tidyr               1.3.1     2024-01-24 [1] CRAN (R 4.3.1)
 tidyselect          1.2.1     2024-03-11 [1] CRAN (R 4.3.1)
 tidyterra         * 0.7.2     2025-04-14 [1] CRAN (R 4.3.3)
 tinytex           * 0.57      2025-04-15 [1] CRAN (R 4.3.3)
 tmap              * 4.1       2025-05-12 [1] CRAN (R 4.3.3)
 tmaptools         * 3.2       2025-01-13 [1] CRAN (R 4.3.3)
 units               0.8-7     2025-03-11 [1] CRAN (R 4.3.3)
 urlchecker          1.0.1     2021-11-30 [1] CRAN (R 4.3.3)
 usethis             3.1.0     2024-11-26 [1] CRAN (R 4.3.3)
 uuid                1.2-1     2024-07-29 [1] CRAN (R 4.3.3)
 V8                  6.0.4     2025-06-04 [1] CRAN (R 4.3.3)
 vctrs               0.6.5     2023-12-01 [1] CRAN (R 4.3.3)
 viridisLite         0.4.2     2023-05-02 [1] CRAN (R 4.3.3)
 withr               3.0.2     2024-10-28 [1] CRAN (R 4.3.3)
 wk                  0.9.4     2024-10-11 [1] CRAN (R 4.3.3)
 xaringan          * 0.30      2024-03-23 [1] CRAN (R 4.3.1)
 xaringanExtra     * 0.8.0     2024-05-19 [1] CRAN (R 4.3.3)
 xfun                0.53      2025-08-19 [1] CRAN (R 4.3.0)
 XML                 3.99-0.18 2025-01-01 [1] CRAN (R 4.3.3)
 xml2                1.3.8     2025-03-14 [1] CRAN (R 4.3.3)
 xtable              1.8-4     2019-04-21 [1] CRAN (R 4.3.3)
 yaml                2.3.10    2024-07-26 [1] CRAN (R 4.3.3)
 zip                 2.3.3     2025-05-13 [1] CRAN (R 4.3.3)

 [1] /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library
 * ── Packages attached to the search path.

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r numCode numberLines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">#Sys.getenv()</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#.libPaths()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><ul>
<li><a href="https://verra.org/wp-content/uploads/2023/11/VM0048-Reducing-Emissions-from-Deforestation-and-Forest-Degradation-v1.0-1-1.pdf" class="uri">https://verra.org/wp-content/uploads/2023/11/VM0048-Reducing-Emissions-from-Deforestation-and-Forest-Degradation-v1.0-1-1.pdf</a></li>
<li><a href="https://verra.org/wp-content/uploads/2024/10/VMD0055-Estimation-of-Emission-Reductions-from-Avoiding-Unplanned-Deforestation-v1.1-CLEAN-2024.10.21.24.pdf" class="uri">https://verra.org/wp-content/uploads/2024/10/VMD0055-Estimation-of-Emission-Reductions-from-Avoiding-Unplanned-Deforestation-v1.1-CLEAN-2024.10.21.24.pdf</a></li>
</ul>
<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn2"><p>Please consult chunk text to confirm data sources, otherwise outlined in this markdown’s report content<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="https://epsg.io/32629" class="uri">https://epsg.io/32629</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>ISO 19107:2019 Geographic information — Spatial schema <a href="https://www.iso.org/obp/ui/#iso:std:iso:19107:ed-2:v1:en" class="uri">https://www.iso.org/obp/ui/#iso:std:iso:19107:ed-2:v1:en</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://github.com/JanCaha/r_package_qgis/blob/master/R/qgis_coveragesimplify.R" class="uri">https://github.com/JanCaha/r_package_qgis/blob/master/R/qgis_coveragesimplify.R</a><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><ul>
<li>For interested users, options for deploying both “valid_linework” or “valid_structure” functions are available in <code>sf::st_make_valid(geos_method="valid_structure")</code> operations. However, perhaps most impressive is how the <code>st_intersection()</code> effectively exposes all overlaps, segments all invalid geometries: and assigns a vertex-based index that enables easy extraction, recovery, or reclassification of geometry errors, all of which was achieved by explicitly assigning self-intersections to the features domain. Lastly, if users prefer to quickly discard all errors and skip geometry inspections, then the <code>st_difference</code> function may be more suitable.</li>
</ul>
<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn7"><p>Douglas, D. H., &amp; Peucker, T. K. (1973). Algorithms for the reduction of the number of points required to represent a digitized line or its caricature. <em>Cartographica: the international journal for geographic information and geovisualization</em>, <em>10</em>(2), 112-122.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p><a href="https://developers.google.com/earth-engine/datasets/catalog/WCMC_WDPA_current_polygons" class="uri">https://developers.google.com/earth-engine/datasets/catalog/WCMC_WDPA_current_polygons</a><a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><ul>
<li><a href="https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2008EO100001" class="uri">https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2008EO100001</a></li>
<li><a href="https://data.hydrosheds.org/file/technical-documentation/HydroSHEDS_TechDoc_v1_4.pdf" class="uri">https://data.hydrosheds.org/file/technical-documentation/HydroSHEDS_TechDoc_v1_4.pdf</a></li>
</ul>
<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn10"><p><a href="https://portal.opentopography.org/datasets" class="uri">https://portal.opentopography.org/datasets</a><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/17c2998f-b511-4c3f-b44d-24cddc66219d\.netlify\.app\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://github.com/seamusrobertmurphy/VM0048">Source</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>